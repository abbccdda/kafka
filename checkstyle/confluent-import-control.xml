<!DOCTYPE import-control PUBLIC
"-//Puppy Crawl//DTD Import Control 1.1//EN"
"http://www.puppycrawl.com/dtds/import_control_1_1.dtd">

<!--
  //
  // confluent-import-control.xml
  //
  // The import control file for Confluent code.
  //
  // Copyright Confluent, 2018-2019.
  //
-->

<import-control pkg="io.confluent">
  <!-- common library dependencies -->
  <allow pkg="com" />
  <allow pkg="io.netty" />
  <allow pkg="java" />
  <allow pkg="org.I0Itec" />
  <allow pkg="java.security" />
  <allow pkg="javax.management" />
  <allow pkg="javax.naming" />
  <allow pkg="javax.net" />
  <allow pkg="javax.security" />
  <allow pkg="javax.xml.bind" />
  <allow pkg="javax.ws.rs.core" />
  <allow pkg="junit" />
  <allow pkg="net" />
  <allow pkg="org.bouncycastle" />
  <allow pkg="org.assertj" />
  <allow pkg="org.easymock" />
  <allow pkg="org.hamcrest" />
  <allow pkg="org.ietf.jgss" />
  <allow pkg="org.jose4j" />
  <allow pkg="org.junit" />
  <allow pkg="org.mindrot" />
  <allow pkg="org.powermock" />
  <allow pkg="org.slf4j" />
  <allow pkg="org.mockito" />
  <allow pkg="org.mockito.stubbing" />
  <allow pkg="scala" />
  <allow pkg="javax.crypto" />

  <subpackage name="support">
    <subpackage name="metrics">
      <allow pkg="io.confluent.command" />
      <allow pkg="io.confluent.common.license" />
      <allow pkg="io.confluent.license" />
      <allow pkg="io.confluent.serializers" />
      <allow pkg="io.confluent.support.metrics" />
      <allow pkg="io.confluent.kafka.security.fips" />
      <allow pkg="kafka" />
      <allow pkg="org.apache.avro" />
      <allow pkg="org.apache.commons.compress" />
      <allow pkg="org.apache.http" />
      <allow pkg="org.apache.kafka.clients" />
      <allow pkg="org.apache.kafka.common" />
      <allow pkg="org.apache.kafka.connect" />
      <allow pkg="org.apache.zookeeper" />
    </subpackage>
  </subpackage>

  <subpackage name="common">
    <allow pkg="org.apache.kafka.common" />
  </subpackage>

  <subpackage name="restserver">
    <allow pkg="io.confluent.restserver" />
    <allow pkg="io.confluent.kafka.test.cluster" />
    <allow pkg="kafka" />
    <allow pkg="org.apache.kafka.common" />
    <allow pkg="org.apache.kafka.server.rest" />
    <allow pkg="org.apache.kafka.test" />
    <allow pkg="org.eclipse.jetty.server" />
    <allow pkg="org.eclipse.jetty.servlet" />
    <allow pkg="org.eclipse.jetty.util.ssl" />
    <allow pkg="org.glassfish.jersey.server" />
    <allow pkg="org.glassfish.jersey.servlet" />
    <allow pkg="org.apache.http" />
    <allow pkg="javax.ws.rs" />
  </subpackage>

  <subpackage name="license">
    <allow pkg="io.confluent.command" />
    <allow pkg="io.confluent.license" />
    <allow pkg="io.confluent.serializers" />
    <allow pkg="io.confluent.common.license" />
    <allow pkg="kafka" />
    <allow pkg="org.apache.kafka.clients" />
    <allow pkg="org.apache.kafka.common" />
    <allow pkg="org.apache.kafka.connect" />
    <allow pkg="org.apache.zookeeper" />
  </subpackage>

  <subpackage name="metrics">
    <allow pkg="io.confluent.metrics" />
    <allow pkg="io.opencensus" />
    <allow pkg="io.confluent.monitoring" />
    <allow pkg="io.confluent.serializers" />
    <allow pkg="kafka" />
    <allow pkg="scala" />
    <allow pkg="org.apache.kafka.clients" />
    <allow pkg="org.apache.kafka.common" />
    <allow pkg="org.apache.kafka.test" />
  </subpackage>

  <subpackage name="telemetry">
    <allow pkg="io.confluent.telemetry" />
    <allow pkg="io.confluent.observability" />
    <allow pkg="io.confluent.metrics" />
    <allow pkg="io.opencensus" />
    <allow pkg="io.confluent.monitoring" />
    <allow pkg="io.confluent.serializers" />
    <allow pkg="io.confluent.observability.telemetry" />
    <allow pkg="io.reactivex" />
    <allow pkg="kafka" />
    <allow pkg="scala" />
    <allow pkg="org.apache.kafka.clients" />
    <allow pkg="org.apache.kafka.common" />
    <allow pkg="org.apache.kafka.test" />
  </subpackage>

  <subpackage name="monitoring">
    <allow pkg="io.confluent.monitoring" />
    <allow pkg="org.apache.kafka.clients" />
    <allow pkg="org.apache.kafka.common" />
  </subpackage>

  <subpackage name="serializers">
    <allow pkg="io.confluent.monitoring" />
    <allow pkg="io.confluent.serializers" />
    <allow pkg="org.apache.kafka.clients" />
    <allow pkg="org.apache.kafka.common" />
  </subpackage>

  <subpackage name="kafka">
    <allow pkg="io.confluent.common" />
    <allow pkg="io.confluent.kafka" />
    <allow pkg="io.confluent.license" />
    <allow pkg="io.confluent.security" />
    <allow pkg="kafka" />
    <allow pkg="org.apache.kafka.common.utils" />
    <allow pkg="org.apache.kafka.clients" />
    <allow pkg="org.apache.kafka.common" />
    <allow pkg="org.apache.kafka.server" />
    <allow pkg="scala" />

    <subpackage name="server.plugins.auth.oauth">
      <allow pkg="org.apache.kafka.test" />
    </subpackage>

    <subpackage name="test.cluster">
      <allow pkg="org.apache.kafka.test" />
    </subpackage>

    <subpackage name="multitenant">
      <allow pkg="io.confluent.security.authorizer" />
      <allow pkg="org.apache.kafka.test" />
    </subpackage>

    <subpackage name="security">
      <allow pkg="io.confluent.security.authorizer" />
      <allow pkg="org.apache.kafka.test" />
    </subpackage>

    <subpackage name="test">
      <allow pkg="org.apache.kafka.test" />
      <allow pkg="io.confluent.security" />
    </subpackage>
  </subpackage>

  <subpackage name="events">
    <allow pkg="io.confluent.crn" />
    <allow pkg="io.confluent.kafka" />
    <allow pkg="io.confluent.events" />
    <allow pkg="io.confluent.events.cloudevents" />
    <allow pkg="io.cloudevents" />
    <allow pkg="org.apache.kafka" />
    <allow pkg="org.apache.log4j" />
    <allow pkg="kafka" />
  </subpackage>

  <subpackage name="security">
    <allow pkg="io.confluent.common" />
    <allow pkg="io.confluent.kafka.test" />
    <allow pkg="io.confluent.license" />
    <allow pkg="io.confluent.security.authorizer" />
    <allow pkg="io.confluent.security.minikdc" />
    <allow pkg="io.confluent.security.rbac" />
    <allow pkg="io.confluent.security.test" />
    <allow pkg="kafka" />
    <allow pkg="org.apache.kafka.clients" />
    <allow pkg="org.apache.kafka.common" />
    <allow pkg="org.apache.kafka.server.authorizer" />
    <allow pkg="org.apache.kafka.test" />
    <allow pkg="scala" />

    <subpackage name="auth">
      <allow pkg="io.confluent.security.auth" />
      <allow pkg="io.confluent.security.store" />

      <subpackage name="provider.ldap">
        <allow pkg="io.confluent.kafka.security.ldap.authorizer" />
      </subpackage>
    </subpackage>

    <subpackage name="store">
      <allow pkg="io.confluent.security.store" />
    </subpackage>

    <subpackage name="test">
      <allow pkg="io.confluent.kafka.security.ldap.authorizer" />
      <allow pkg="io.confluent.kafka.security.authorizer" />
      <allow pkg="io.confluent.security" />
    </subpackage>

    <subpackage name="minikdc">
      <allow pkg="org.apache.commons.lang.text" />
      <allow pkg="org.apache.directory" />
    </subpackage>


    <subpackage name="audit">
      <allow pkg="io.confluent.events" />
      <allow pkg="io.cloudevents" />
      <allow pkg="io.confluent.crn" />
      <allow pkg="io.confluent.security.audit" />
    </subpackage>
  </subpackage>

  <subpackage name="aegis">
    <allow pkg="io.confluent.aegis.test" />
    <allow pkg="io.confluent.common" />
    <allow pkg="io.confluent.common.network" />
    <allow pkg="io.confluent.common.security" />
    <allow pkg="io.confluent.common.utils" />
    <allow pkg="io.confluent.kafka" />
    <allow pkg="org.apache.kafka.clients" />
    <allow pkg="org.apache.kafka.common" />
    <allow pkg="org.apache.kafka.common.network" />
    <allow pkg="org.apache.kafka.common.security.auth" />
    <allow pkg="org.apache.kafka.common.utils" />
    <allow pkg="org.apache.kafka.test" />

    <subpackage name="config">
      <allow pkg="io.confluent.aegis.common" />
      <allow pkg="io.confluent.aegis.config" />
    </subpackage>

    <subpackage name="proxy">
      <allow pkg="io.confluent.aegis.common" />
      <allow pkg="io.confluent.aegis.config" />
      <allow pkg="io.confluent.license" />
      <allow pkg="org.apache.kafka.clients" />
      <allow pkg="org.apache.kafka.server" />
    </subpackage>

    <subpackage name="test">
      <allow pkg="io.confluent.aegis.common" />
      <allow pkg="io.confluent.aegis.config" />
      <allow pkg="io.confluent.aegis.proxy" />
      <allow pkg="io.confluent.license" />
      <allow pkg="org.apache.kafka.clients" />
      <allow pkg="org.apache.kafka.server" />
    </subpackage>
  </subpackage>

  <subpackage name="crn">
    <allow pkg="io.confluent.common" />
    <allow pkg="io.confluent.crn" />
    <allow pkg="io.confluent.security.authorizer" />
    <allow pkg="org.apache.kafka.common" />
  </subpackage>

</import-control>
